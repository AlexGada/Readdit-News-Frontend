(this["webpackJsonpreaddit-news"]=this["webpackJsonpreaddit-news"]||[]).push([[0],{38:function(t,e,n){},39:function(t,e,n){},84:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(28),i=n.n(c),s=(n(38),n(3)),o=n(4),l=n(6),u=n(5),j=(n(39),n(8)),b=n(9),d=n.n(b),f=n(14),h=n(30),p=n.n(h).a.create({baseURL:"https://readdit-news.herokuapp.com/api"}),m=function(){var t=Object(f.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get("/topics");case 2:return e=t.sent,n=e.data,t.abrupt("return",n.topics);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(f.a)(d.a.mark((function t(e,n,r,a,c,i){var s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get("/articles",{params:{topic:e,sort_by:n,order:r,author:a,p:c,limit:i}});case 2:return s=t.sent,o=s.data,t.abrupt("return",o.articles);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,a,c,i){return t.apply(this,arguments)}}(),v=function(){var t=Object(f.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get("/articles/".concat(e));case 2:return n=t.sent,r=n.data,t.abrupt("return",r.article);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(t,e){return p.patch("/articles/".concat(t),{inc_votes:e}).then((function(t){return console.log(t)}))},x=function(){var t=Object(f.a)(d.a.mark((function t(e,n,r){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get("/articles/".concat(e,"/comments"),{params:{sort_by:n,p:r}});case 2:return a=t.sent,c=a.data,t.abrupt("return",c.comments);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),y=function(t,e,n){var r={username:e,body:n};return p.post("/articles/".concat(t,"/comments"),r).then((function(t){return t.data.comment}))},w=function(t){return p.delete("/comments/".concat(t))},C=function(t){return p.delete("/articles/".concat(t))},N=n(10),_=n(12),k=n(0),S=[N.b,N.a,N.f],L=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={topics:[]},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;m().then((function(e){t.setState({topics:e})}))}},{key:"render",value:function(){var t=this.state.topics;return Object(k.jsxs)("nav",{className:"Nav",children:[Object(k.jsxs)(j.a,{to:"/",children:[Object(k.jsx)(_.a,{className:"navButton",icon:N.c})," ",Object(k.jsx)("br",{}),"all articles"]}),t.map((function(t,e){var n=S[e];return Object(k.jsxs)(j.a,{className:"navLink",to:"/".concat(t.slug,"/articles"),children:[Object(k.jsx)(_.a,{className:"navButton",icon:n})," ",Object(k.jsx)("br",{})," ",t.slug]},t.description)}))]})}}]),n}(r.Component),P=function(){return Object(k.jsxs)("header",{className:"Title",children:[Object(k.jsx)(j.a,{to:"/",children:Object(k.jsx)("h1",{className:"Title-header",children:"READDIT NEWS"})}),Object(k.jsxs)("div",{className:"avatar",children:[Object(k.jsx)("img",{src:"https://vignette.wikia.nocookie.net/mrmen/images/7/7e/MrMen-Bump.png/revision/latest?cb=20180123225553",alt:"weegembump",className:"avatarImage"}),Object(k.jsx)("br",{}),Object(k.jsxs)("p",{className:"username",children:["Logged in as ",Object(k.jsx)("br",{})," weegembump"]})]})]})},E=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={voteChange:0,err:null},t.updateVotes=function(e,n){console.log(e),t.setState((function(t){return{voteChange:t.voteChange+n}})),g(e,n).catch((function(e){t.setState((function(t){return{voteChange:t.voteChange-n}}))}))},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.article_id,r=e.comment_id,a=e.votes,c=this.state.voteChange;return console.log(n,r),Object(k.jsxs)("div",{children:[Object(k.jsx)(_.a,{icon:N.e,className:"voterIcon",onClick:function(){return t.updateVotes(n||r,1)}}),Object(k.jsxs)("p",{className:"votes",children:[a+c," votes"]}),Object(k.jsx)(_.a,{icon:N.d,className:"voterIcon",onClick:function(){return t.updateVotes(n||r,-1)}})]})}}]),n}(a.a.Component),I=function(t){if(t){var e=t.slice(0,10),n=t.slice(11,16);return"".concat(e," at ").concat(n)}};function B(t){return Object(k.jsxs)("div",{className:"ArticleCard",children:[Object(k.jsxs)("div",{className:"ArticleCardMain",children:[Object(k.jsx)(j.a,{to:"/articles/".concat(t.article.article_id),children:Object(k.jsx)("h2",{children:t.article.title})}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:t.article.topic})," | posted by"," ",Object(k.jsx)("em",{children:t.article.author}),Object(k.jsx)("br",{}),I(t.article.created_at)]})]}),Object(k.jsxs)("div",{className:"ArticleCardSmall",children:["weegembump"===t.article.author?Object(k.jsx)("h4",{children:"you can't vote on your own article!"}):Object(k.jsx)(E,{votes:t.article.votes,article_id:t.article.article_id},"vot".concat(t.article.comment_id)),Object(k.jsxs)(j.a,{to:"/articles/".concat(t.article.article_id),children:[t.article.comment_count," comments ",Object(k.jsx)("br",{})]})]})]},t.article.title)}var A,M=n(31),D=n.n(M),z=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:"loader",children:[Object(k.jsx)(D.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})," "]})}}]),n}(a.a.Component);function F(){return(F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Q(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function R(t,e){var n=t.title,a=t.titleId,c=Q(t,["title","titleId"]);return r.createElement("svg",F({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-circle-right",className:"svg-inline--fa fa-chevron-circle-right fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,A||(A=r.createElement("path",{fill:"currentColor",d:"M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm113.9 231L234.4 103.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L285.1 256 183.5 357.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L369.9 273c9.4-9.4 9.4-24.6 0-34z"})))}var V,T=r.forwardRef(R);n.p;function U(){return(U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function H(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function J(t,e){var n=t.title,a=t.titleId,c=H(t,["title","titleId"]);return r.createElement("svg",U({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-circle-left",className:"svg-inline--fa fa-chevron-circle-left fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,V||(V=r.createElement("path",{fill:"currentColor",d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zM142.1 273l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L226.9 256l101.6-101.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L142.1 239c-9.4 9.4-9.4 24.6 0 34z"})))}var W,Z=r.forwardRef(J);n.p;function q(){return(q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function G(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function K(t,e){var n=t.title,a=t.titleId,c=G(t,["title","titleId"]);return r.createElement("svg",q({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"clock",className:"svg-inline--fa fa-clock fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,W||(W=r.createElement("path",{fill:"currentColor",d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"})))}var X,Y=r.forwardRef(K);n.p;function $(){return($=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tt(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function et(t,e){var n=t.title,a=t.titleId,c=tt(t,["title","titleId"]);return r.createElement("svg",$({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"thumbs-up",className:"svg-inline--fa fa-thumbs-up fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,X||(X=r.createElement("path",{fill:"currentColor",d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"})))}var nt,rt=r.forwardRef(et);n.p;function at(){return(at=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ct(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function it(t,e){var n=t.title,a=t.titleId,c=ct(t,["title","titleId"]);return r.createElement("svg",at({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"pencil-alt",className:"svg-inline--fa fa-pencil-alt fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,nt||(nt=r.createElement("path",{fill:"currentColor",d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"})))}var st,ot=r.forwardRef(it);n.p;function lt(){return(lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ut(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jt(t,e){var n=t.title,a=t.titleId,c=ut(t,["title","titleId"]);return r.createElement("svg",lt({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"comment",className:"svg-inline--fa fa-comment fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,st||(st=r.createElement("path",{fill:"currentColor",d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"})))}var bt=r.forwardRef(jt),dt=(n.p,function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={articles:[],isLoading:!0,sort_by:"created_at",page:1},t.changePage=function(e){t.setState((function(t){return{page:t.page+e}}))},t.deleteArticle=function(e){C(e).then((function(){O(t.topic,t.sort_by,t.order,t.author,t.page,t.limit).then((function(e){t.setState({articles:e,isLoading:!1})})).catch((function(e){t.setState({err:e,isLoading:!1})}))}))},t.getArticles=function(){var e=t.props.topic,n=t.state,r=n.sort_by,a=n.order,c=n.author,i=n.page,s=n.limit,o=n.comment_count;n.votes;O(e,r,a,c,i,s,o).then((function(e){t.setState({articles:e,isLoading:!1})}))},t.getQuery=function(e){var n=e;t.setState((function(){return{sort_by:n}}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getArticles()}},{key:"componentDidUpdate",value:function(t,e){var n=this.props.topic,r=this.state,a=r.sort_by,c=r.page;n===t.topic&&a===e.sort_by&&c===e.page||(this.setState({isLoading:!0}),this.getArticles())}},{key:"render",value:function(){var t=this,e=this.state,n=e.articles,r=e.isLoading,a=e.page;return r?Object(k.jsx)(z,{}):Object(k.jsxs)("main",{className:"ArticleList",children:[Object(k.jsxs)("div",{className:"filters",children:[Object(k.jsx)("h4",{children:"Filters:"}),Object(k.jsxs)("button",{onClick:function(){return t.getQuery("created_at")},className:"filterButton",children:["Date ",Object(k.jsx)(Y,{})]}),Object(k.jsxs)("button",{onClick:function(){return t.getQuery("author")},className:"filterButton",children:["Author ",Object(k.jsx)(ot,{})]}),Object(k.jsxs)("button",{onClick:function(){return t.getQuery("comment_count")},className:"filterButton",children:["Comments ",Object(k.jsx)(bt,{})]}),Object(k.jsxs)("button",{onClick:function(){return t.getQuery("votes")},className:"filterButton",children:["Votes ",Object(k.jsx)(rt,{})]})]}),Object(k.jsxs)("section",{children:[Object(k.jsx)("button",{disabled:1===a,onClick:function(){return t.changePage(-1)},className:"pagination",children:Object(k.jsx)(Z,{})}),Object(k.jsx)("span",{children:a}),Object(k.jsx)("button",{onClick:function(){return t.changePage(1)},className:"pagination",children:Object(k.jsx)(T,{})})]}),n.map((function(e){var n=e.article_id,r=e.title,a=e.topic,c=e.author,i=e.comment_count,s=e.votes,o=e.created_at;return Object(k.jsx)(B,{article:{article_id:n,title:r,topic:a,author:c,comment_count:i,votes:s,created_at:o},deleteArticle:t.deleteArticle},"art".concat(n))})),Object(k.jsxs)("section",{children:[Object(k.jsx)("button",{disabled:1===a,onClick:function(){return t.changePage(-1)},className:"pagination",children:Object(k.jsx)(Z,{})}),Object(k.jsx)("span",{children:a}),Object(k.jsx)("button",{onClick:function(){return t.changePage(1)},className:"pagination",children:Object(k.jsx)(T,{})})]})]})}}]),n}(r.Component)),ft=function(t){var e=t.status,n=t.msg;return Object(k.jsxs)("p",{children:[e," - ",n]})},ht=n(32),pt=n(33),mt=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={body:"",username:"weegembump",err:null,isLoading:!0},t.handleChange=function(e){var n=e.target.value;t.setState({body:n})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,r=n.username,a=n.body,c=t.props.article_id;y(c,r,a).then((function(e){t.setState({body:""}),t.props.postNewComment(e)})).catch((function(e){t.setState({err:e,isLoading:!1})}))},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state.err;if(t){var e=t.response;return Object(k.jsx)(ft,{status:e.status,msg:e.msg})}return Object(k.jsx)("form",{onSubmit:this.handleSubmit,children:Object(k.jsxs)("label",{children:["Post Comment:",Object(k.jsx)("br",{}),Object(k.jsx)("textarea",{value:this.state.body,onChange:this.handleChange,type:"text",placeholder:"Type your comment here...",className:"postComment"}),Object(k.jsx)("br",{}),Object(k.jsx)("input",{type:"submit",value:"Post Comment!",className:"submitButton"})]})})}}]),n}(r.Component),Ot=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={comments:[],isLoading:!0,sort_by:"votes",page:1},t.getQuery=function(e){var n=e;t.setState((function(){return{sort_by:n}}))},t.changePage=function(e){t.setState((function(t){return{page:t.page+e}}))},t.getComments=function(){var e=t.props.article_id,n=t.state,r=n.sort_by,a=n.page;x(e,r,a).then((function(e){t.setState({comments:e,isLoading:!1})}))},t.postNewComment=function(e){t.setState((function(t){return{comments:[e].concat(Object(pt.a)(t.comments))}}))},t.deleteCommentClick=function(e){var n=e.target.value,r=t.props.article_id,a=t.state,c=a.page,i=a.sort_by;w(n).then((function(){x(r,i,c).then((function(e){t.setState({comments:e,isLoading:!1})}))})).catch((function(e){t.setState({err:e,isLoading:!1})}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.article_id;Promise.all([v(e),x(e)]).then((function(e){var n=Object(ht.a)(e,2),r=n[0],a=n[1];t.setState({article:r,comments:a,isLoading:!1})})).catch((function(e){t.setState({err:e,isLoading:!1})}))}},{key:"componentDidUpdate",value:function(t,e){var n=this.state,r=n.sort_by,a=n.page;r===e.sort_by&&a===e.page||(this.setState({isLoading:!0}),this.getComments())}},{key:"render",value:function(){var t=this,e=this.state,n=e.comments,r=e.isLoading,a=e.page,c=this.props.article_id;return r?Object(k.jsx)(z,{}):Object(k.jsxs)("main",{className:"CommentList",children:[Object(k.jsxs)("div",{className:"filters",children:[Object(k.jsx)("h4",{children:"Filters:"}),Object(k.jsxs)("button",{onClick:function(){return t.getQuery("created_at")},className:"filterButton",children:["Date ",Object(k.jsx)(Y,{})]}),Object(k.jsxs)("button",{onClick:function(){return t.getQuery("votes")},className:"filterButton",children:["Votes ",Object(k.jsx)(rt,{})]})]}),Object(k.jsx)(mt,{article_id:c,postNewComment:this.postNewComment,path:"/articles/".concat(c)}),Object(k.jsxs)("section",{children:[Object(k.jsx)("button",{disabled:1===a,onClick:function(){return t.changePage(-1)},className:"pagination",children:Object(k.jsx)(Z,{})}),Object(k.jsx)("span",{children:a}),Object(k.jsx)("button",{onClick:function(){return t.changePage(1)},className:"pagination",children:Object(k.jsx)(T,{})})]}),Object(k.jsx)("h4",{children:"Comments:"}),n.map((function(e){var n=e.comment_id,r=e.author,a=e.votes,i=e.created_at,s=e.body;return Object(k.jsxs)("div",{className:"singleComment",children:[Object(k.jsxs)("div",{className:"singleCommentBody",children:[Object(k.jsx)("h4",{children:"Author: ".concat(r)}),Object(k.jsx)("p",{children:s}),Object(k.jsx)("h4",{children:I(i)})]}),Object(k.jsx)("div",{className:"commentBodySmall",children:"weegembump"===r?Object(k.jsx)("button",{onClick:t.deleteCommentClick,value:n,className:"deleteButton",children:"Delete Comment"}):Object(k.jsx)(E,{votes:a,article_id:c},"vot".concat(n))})]},n)})),Object(k.jsxs)("section",{children:[Object(k.jsx)("button",{disabled:1===a,onClick:function(){return t.changePage(-1)},className:"pagination",children:Object(k.jsx)(Z,{})}),Object(k.jsx)("span",{children:a}),Object(k.jsx)("button",{onClick:function(){return t.changePage(1)},className:"pagination",children:Object(k.jsx)(T,{})})]})]})}}]),n}(r.Component),vt=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={article:{},isLoading:!0,err:null},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;v(this.props.article_id).then((function(e){t.setState({article:e,isLoading:!1})})).catch((function(e){t.setState({err:e,isLoading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.isLoading,n=t.article,r=t.err,a=n.article_id,c=n.title,i=n.author,s=n.body,o=(n.topic,n.created_at),l=n.votes;n.comment_count;if(e)return Object(k.jsx)(z,{});if(r){var u=r.response;return Object(k.jsx)(ft,{status:u.status,msg:u.data.msg})}return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"singleArticle",children:[Object(k.jsx)("h2",{children:c}),Object(k.jsxs)("h3",{children:["by ",i]}),Object(k.jsxs)("h4",{children:["posted ",I(o)]}),Object(k.jsxs)("div",{className:"singleArticleBody",children:[Object(k.jsx)("p",{className:"articleBodyMain",children:s}),Object(k.jsx)("div",{className:"articleBodySmall",children:Object(k.jsx)(E,{votes:l,article_id:a},"vot".concat(a))})]})]}),Object(k.jsx)(Ot,{article_id:a})]})}}]),n}(r.Component),gt=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={loggedInUser:"cooljmessy",sort_by:"created_at"},t.logout=function(){t.setState({loggedInUser:null})},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(P,{user:this.state.user}),Object(k.jsx)(L,{}),Object(k.jsxs)(j.b,{className:"content",children:[Object(k.jsx)(dt,{path:"/",sort_by:this.state.sort_by}),Object(k.jsx)(dt,{path:"/:topic/articles",sort_by:this.state.sort_by}),Object(k.jsx)(vt,{path:"/articles/:article_id",user:this.state.loggedInUser}),Object(k.jsx)(ft,{default:!0,status:404,msg:"Wrong turn! Path not found!"})]})]})}}]),n}(a.a.Component),xt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(gt,{})}),document.getElementById("root")),xt()}},[[84,1,2]]]);
//# sourceMappingURL=main.d3b9ff8a.chunk.js.map